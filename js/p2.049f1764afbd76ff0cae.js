(()=>{"use strict";function e(e){const t=document.createElement("div");if(t.innerHTML=e,t.firstElementChild)return t.firstElementChild;throw Error("Template is not correct")}function t({event:e,elem:t,payload:s=null}={}){t&&t.dispatchEvent(new CustomEvent(e,{detail:s}))}const s="SLIDER_DOT_CLICK",n="SLIDER_ANIMATION",i="_START",l="_END";class d{element=null;slides=[];delay;currentSlideIndex=0;constructor({slides:e,delay:t}={}){this.slides=e,this.delay=t}render(){return this.element=e('<div class="slider__inner"></div>'),this.element.append(...this.getSlideElems()),this.setTrackState(-100),this.element}getSlideElems(){const t=this.slides.map((({value:t})=>e(`\n      <div class="slider__slide slider-slide">\n        <div class="slider-slide__content">\n            <div class="slider__text">${t}</div>\n        </div>\n      </div>\n        `))),s=t[this.slides.length-1].cloneNode(!0),n=t[0].cloneNode(!0);return[s,...t,n]}slideTo(e){const t=this.currentSlideIndex<e;this.animate(e,t)}animate(e){const s=Date.now();t({event:n+i,elem:this.element});let d=setInterval((()=>{let i=(Date.now()-s)/this.delay;i>=1&&(i=1,this.currentSlideIndex=e,clearInterval(d),t({event:n+l,elem:this.element}),this.checkIndexIsOutOfSlides(e))||this.setTrackState(this.getTrackShift(e,i))}),16)}checkIndexIsOutOfSlides=e=>(-1===e||e===this.slides.length)&&(-1===e&&(this.currentSlideIndex=this.slides.length-1),e===this.slides.length&&(this.currentSlideIndex=0),this.setTrackState(this.getTrackShift(this.currentSlideIndex)),!0);getTrackShift=(e,t=1)=>100*(t*(this.currentSlideIndex-e)-this.currentSlideIndex-1);setTrackState=(e,t="%")=>{this.element.style.transform=`translateX(${e}${t})`}}const r="slider-pagination__dot--active";class a{element=null;slidesCount=0;dotElems=[];activeDotIndex=0;onClick=e=>{const n=e.target.closest("[data-slider-dot-index]");if(n){const e=Number(n.dataset.sliderDotIndex);if(e===this.activeDotIndex)return;this.activeDotIndex=e,t({event:s,elem:this.element,payload:{sliderDotIndex:Number(this.activeDotIndex)}})}};constructor({slidesCount:e,activeDotIndex:t=0}={}){this.slidesCount=e,this.activeDotIndex=t}render(){return this.element=e('<ul class="slider-pagination"></ul>'),this.element.append(...this.getDotElems()),this.initEventListeners(),this.element}getDotElems(){return this.dotElems=[...Array(this.slidesCount)].map(((t,s)=>e(`\n      <button class="slider-pagination__button${s===this.activeDotIndex?` ${r}`:""}"   data-slider-dot-index=${s}>\n        <span class="slider-pagination__dot"></span>\n      </button>\n      `))),this.dotElems}setActiveDot=e=>{this.dotElems.forEach((e=>{e.classList.contains(r)&&e.classList.remove(r)})),this.dotElems[e].classList.add(r)};initEventListeners(){this.element&&this.element.addEventListener("click",this.onClick)}}const o=document.getElementById("slider-root"),c=(5,Array.from(Array(5),((e,t)=>({id:t+1,value:t+1}))));o&&o.append(new class{element=null;subElements=null;components={};slides=[];activeSlideIndex=0;delay;isTrackAnimated=!1;onButtonPrevClick=()=>{this.isTrackAnimated||(this.activeSlideIndex-=1,this.syncSubcomponents())};onButtonNextClick=()=>{this.isTrackAnimated||(this.activeSlideIndex+=1,this.syncSubcomponents())};onDotClick=e=>{this.isTrackAnimated||(this.activeSlideIndex=Number(e.detail.sliderDotIndex),this.syncSubcomponents())};onTrackAnimationStart=()=>this.isTrackAnimated=!0;onTrackAnimationEnd=()=>this.isTrackAnimated=!1;initComponents(){const e=new a({slidesCount:this.slides.length}),t=new d({slides:this.slides,delay:this.delay});this.components={sliderPagination:e,sliderTrack:t},this.renderComponents(this.components)}constructor({slides:e=[],delay:t=300}={}){this.slides=e,this.delay=t}render(){return this.element=e('\n<div class="slider__box">\n  <div class="slider__content" data-element="sliderTrack"></div>\n  <button class="slider__arrow-btn slider__arrow-btn--left" data-element="buttonPrev">\n    <svg class="slider__arrow-icon" viewBox="0 0 21 36">\n      <use xlink:href="assets/svg/sprite.svg#arrow-left"></use>\n    </svg>\n  </button>\n  <button class="slider__arrow-btn slider__arrow-btn--right" data-element="buttonNext">\n    <svg class="slider__arrow-icon" viewBox="0 0 21 36">\n      <use xlink:href="assets/svg/sprite.svg#arrow-right"></use>\n    </svg>\n  </button>\n <div class="slider__pagination" data-element="sliderPagination"></div>\n</div>\n    '),this.subElements=function(e,t="[data-element]"){if(e)return[...e.querySelectorAll(t)].reduce(((e,t)=>(t.dataset.element&&(e[t.dataset.element]=t),e)),{})}(this.element),this.initComponents(),this.initEventListeners(),this.element}syncSubcomponents=()=>{this.components.sliderTrack.slideTo(this.activeSlideIndex),-1===this.activeSlideIndex&&(this.activeSlideIndex=this.slides.length-1),this.activeSlideIndex===this.slides.length&&(this.activeSlideIndex=0),this.components.sliderPagination.setActiveDot(this.activeSlideIndex)};renderComponents(e){Object.entries(e).forEach((([e,t])=>{this.subElements[e].append(t.render())}))}initEventListeners(){this.subElements.buttonPrev.addEventListener("click",this.onButtonPrevClick),this.subElements.buttonNext.addEventListener("click",this.onButtonNextClick);const{element:e}=this.components.sliderPagination;e&&e.addEventListener(s,this.onDotClick);const{element:t}=this.components.sliderTrack;t&&(t.addEventListener(n+i,this.onTrackAnimationStart),t.addEventListener(n+l,this.onTrackAnimationEnd))}}({slides:c,delay:600}).render())})();